/*! docker 2015-07-28 */
!function(a,b,c){"use strict";b.module("docker.containers",[]).controller("ContainersController",["$scope","Container",function(a,c){b.isDefined,b.isFunction,b.isString,b.isObject,b.isArray,b.forEach,b.extend,b.copy;a.baseParam={limit:5,offset:0},a.Grid={data:[],action:{fetchData:function(b,d){a.baseParam.limit=b.limit,a.baseParam.offset=b.offset,c.query(a.baseParam,function(b){console.log("query ..."),console.log(b),a.Grid.data=b;var c={rows:b,total:5};d(c)})}}},a.Grid.config={paging:!0,reload:null,getData:a.Grid.action.fetchData,columns:[{sTitle:"ID",mData:"id"},{sTitle:"创建时间",mData:"created"},{sTitle:"镜像大小",mData:"size"},{sTitle:"镜像虚拟大小",mData:"virtualSize"},{sTitle:"父镜像",mData:"parent"}],columnDefs:[{bSortable:!1,aTargets:[0,2]}],defaultOrderBy:[],displayLength:100};var d=function(){c.get({id:$routeParams.id},function(b){a.container=b,a.container.edit=!1,a.container.newContainerName=b.Name},function(a){404===a.status?($(".detail").hide(),Messages.error("Not found","Container not found.")):Messages.error("Failure",a.data),ViewSpinner.stop()})};a.start=function(){c.start({id:a.container.Id,HostConfig:a.container.HostConfig},function(a){d(),Messages.send("Container started",$routeParams.id)},function(a){d(),Messages.error("Failure","Container failed to start."+a.data)})},a.stop=function(){c.stop({id:$routeParams.id},function(a){d(),Messages.send("Container stopped",$routeParams.id)},function(a){d(),Messages.error("Failure","Container failed to stop."+a.data)})}}])}(window,window.angular);